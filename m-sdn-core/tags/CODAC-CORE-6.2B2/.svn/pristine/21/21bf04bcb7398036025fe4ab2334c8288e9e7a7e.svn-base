#
#======================================================================
# $HeadURL$
# $Id$
#
# Project       : m-log-lib
#
# Description   : Makefile
#
# Author        : William Ledda (Vitrociset S.p.A.)
#
# Copyright (c) : 2010-2019 ITER Organization,
#                 CS 90 046
#                 13067 St. Paul-lez-Durance Cedex
#                 France
#
# This file is part of ITER CODAC software.
# For the terms and conditions of redistribution or use of this software
# refer to the file ITER-LICENSE.TXT located in the top level directory
# of the distribution package.
#
#-======================================================================

PROGNAME = sdn-core-unit

CXX=g++

SDN_INC := ../../../main/c++/include
SDN_LIB := ../../../../target/lib
ENV_CXXFLAGS := -I$(CODAC_ROOT)/include
ENV_LDFLAGS := -L$(CODAC_ROOT)/lib
TARGET=../../../../target

all: $(PROGNAME)

CXXFLAGS += -Wall -g -I$(SDN_INC) $(ENV_CXXFLAGS) -I$(CODAC_ROOT)/include/sdn-core -std=c++0x -I/usr/include/libxml2
LDFLAGS += -Wl,-rpath,$(SDN_LIB) -L$(SDN_LIB) $(ENV_LDFLAGS) -lrt -lpthread -lccs-core -llog -lxml2 -lgtest -lgtest_main

$(PROGNAME): $(PROGNAME).cpp ../../../../target/lib/libsdn-core.a
	$(CXX) $(CXXFLAGS) $(LDFLAGS) $^ -o $(PROGNAME)

clean:
	@$(RM) $(PROGNAME) *.o

